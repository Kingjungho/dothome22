<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div><span class="order">1</span>번째 참가자</div>
    <div>제시어 : <span class="keyword"></span></div>
    <input type="text" class="input"><button>입력</button>


    <script>
        const number = Number(prompt("참가 인원은 몇명인가요?"));
        const $order = document.querySelector(".order");
        const $keyword = document.querySelector(".keyword");
        const $input = document.querySelector(".input");
        const $button = document.querySelector("button");

        let word; //제시어
        let newWord; //새로운 제시어

        if (number) {
            function onClickButton() {
                if ((!word || word[word.length - 1] === newWord[0]) && newWord.length === 3) { //제시어가 비어있다.
                    word = newWord; //스크립트로 바꾸면
                    $keyword.textContent = word; //HTML 출력도 신경써서 같이 바꿔준다.

                    const order = Number($order.textContent);
                    if (order === number) {
                        $order.textContent = 1;
                    } else {
                        $order.textContent = order + 1;
                    }
                } else {
                    alert("ㅃ545")
                    $keyword.textContent = "";
                    $order.textContent = 1;
                    $input.value = "";
                    $input.focus();
                }
                $input.value = "";
                $input.focus();
            }


            const onInput = (e) => {
                newWord = e.target.value;
            }

            $input.addEventListener("input", onInput);
            $button.addEventListener("click", onClickButton);
        } else {
            document.querySelector("body").style.display = "none"
        }
    </script>
</body>

</html>