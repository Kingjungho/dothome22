<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>캐럿!</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
</head>
<body>
    <section class="game">
        <header class="game__header">
            <button class="game__start"><i class="fas fa-play"></i></button>
            <span class="game__timer">0:10</span>
            <span class="game__score">9</span>
        </header>
        <section class="game__field"></section>
    </section>
    <section class="pop-up pop-up-hide">
        <button class="pop-up__refresh">
            <i class="fas fa-redo"></i>
        </button>
        <span class="pop-up__message">REPLAY?</span>
    </section>

    <script>
        const start = document.querySelector(".game__start");
        const timer = document.querySelector(".game__timer");
        const score = document.querySelector(".game__score");
        const field = document.querySelector(".game__field");
        const popup = document.querySelector(".pop-up__message");


        let str1 = Math.round(Math.random()*100);
        let str2 = Math.round(Math.random()*100);

        let bug = document.createElement("img");
        let carrot = document.createElement("img");
        bug.setAttribute("class", "bug");
        carrot.setAttribute("class", "carrot");
        bug.src = "img/bug.png";
        carrot.src = "img/carrot.png";
        field.append(bug);
        field.append(carrot);
        let startTimer = 10;
        let startScore = 9;
        bug.style.display = "none"
        carrot.style.display = "none"

        const gameStart = () => {
        const interval = setInterval(() => {
                if(startTimer >= 0){
                    timer.innerHTML = `0:${startTimer}`
                    start.innerHTML = `<i class="fas fa-pause"></i>`
                    startTimer--;
                    bug.style.display = "block"
                    carrot.style.display = "block"
                    bug.style.left = str1 + "px"
                    bug.style.top = str2 + "px"
                    carrot.style.left = str1 + "px"
                    carrot.style.top = str2 + "px"
                } else {
                    clearInterval(interval);
                    startTimer = 10;
                    timer.innerHTML = `0:${startTimer}`
                    start.innerHTML = `<i class="fas fa-play"></i>`
                    bug.style.display = "none"
                    carrot.style.display = "none"
                }
            }, 1000)       
        }

        start.addEventListener("click", gameStart)
    </script>
</body>
</html>